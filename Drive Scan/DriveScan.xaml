<mah:MetroWindow x:Class="Drive_Scan.DriveScanWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Drive_Scan"
        xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <Grid x:Name="RootGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="LeftPanel" Width="1*"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>
        
        <!--Grid Splitter Between Left and Right Panels-->
        <GridSplitter Grid.Column="1" HorizontalAlignment="Stretch" Style="{DynamicResource MahApps.Styles.GridSplitter }" Width="5"/>
        
        <!--Grid for Left Panel-->
        <Grid Grid.Column="0" x:Name="LeftGrid">
            <Grid.RowDefinitions>
                <RowDefinition Height="3*"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="1*"/>
            </Grid.RowDefinitions>
            <!--Grid Splitter Between Top Left and Bottom Left-->
            <TreeView Grid.Row="0"/>
            <GridSplitter Grid.Row="1" VerticalAlignment="Stretch" Style="{ DynamicResource MahApps.Styles.GridSplitter }" Height="5"/>
            
            <DataGrid Name="DriveList" Grid.Row="2" GridLinesVisibility="All" AutoGenerateColumns="False">
                <DataGrid.Resources>
                    <local:FormatKbSizeConverter x:Key="FormatKbSizeConverter" />
                </DataGrid.Resources>

                <DataGrid.Columns>
                    <!--Drive Volume Labels-->
                    <DataGridTemplateColumn Header="Drive" SortMemberPath="{Binding Path=VolumeLabel}">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <!--<Image/>-->
                                    <TextBlock Style="{DynamicResource MahApps.Styles.TextBlock}" Text="{Binding Path=VolumeLabel}"/>
                                    <TextBlock Style="{DynamicResource MahApps.Styles.TextBlock}" Text="{Binding Path=Name, StringFormat=' ({0})'}"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    
                    
                    <!--Real Names-->
                    <DataGridTextColumn ElementStyle="{DynamicResource TextBlock}" Header="Size" Binding="{Binding Path=TotalSize, Converter={StaticResource FormatKbSizeConverter}}" SortMemberPath="{Binding Path=TotalSize}" Width="*"/>

                    <DataGridTextColumn ElementStyle="{DynamicResource TextBlock}" Header="Used" Binding="{Binding Path=UsedSpace, Converter={StaticResource FormatKbSizeConverter}}" SortMemberPath="{Binding Path=RealName}" Width="*"/>
                    <!--<DataGridTemplateColumn Header="Drive" SortMemberPath="{Binding Path=VolumeLabel}">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    --><!--<Image/>--><!--
                                    <TextBlock Style="{DynamicResource MahApps.Styles.TextBlock}" Text="{Binding Path=VolumeLabel}"/>
                                    <TextBlock Style="{DynamicResource MahApps.Styles.TextBlock}" Text="{Binding Path=Name, StringFormat=' ({0})'}"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>-->
                    
                    <DataGridTextColumn ElementStyle="{DynamicResource TextBlock}" Header="Free" Binding="{Binding Path=TotalFreeSpace, Converter={StaticResource FormatKbSizeConverter}}" SortMemberPath="{Binding Path=AvailableFreeSpace}" Width="*"/>
                    
                </DataGrid.Columns>
            </DataGrid>


        </Grid>
        
        <!--Grid for Right Panel-->
        <Grid Grid.Column="2" x:Name="RightGrid">
            <Grid.RowDefinitions>
                <RowDefinition Height="2*"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="1*"/>
            </Grid.RowDefinitions>
            <!--Grid Splitter Between Top Left and Bottom Left-->
            <GridSplitter Grid.Row="1" VerticalAlignment="Stretch" Style="{DynamicResource MahApps.Styles.GridSplitter }" Height="5"/>

        </Grid>
    </Grid>
</mah:MetroWindow>
